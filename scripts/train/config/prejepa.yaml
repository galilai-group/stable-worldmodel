defaults:
  - _self_
  - launcher: local

hydra:
  job:
    chdir: true

# --- Run ---
output_model_name: pusht_${backbone.type}_p${predictor.size}
subdir: null
seed: 42

# --- Data ---
dataset_name: pusht_expert_train_video
cache_dir: null
n_steps: ${eval:'${wm.num_preds} + ${wm.history_size}'}
frameskip: 5

batch_size: 32
num_workers: 16
train_split: 0.9

# --- Backbone ---
backbone:
  name: facebook/dinov2-small
  type: dinov2_small
  is_video_encoder: false

image_size: 224
patch_size: 14  # must match the encoder's patch size (14 for dinov2/dino/mae)

# --- World model ---
wm:
  history_size: 3
  num_preds: 1
  encoding:
    proprio: 10
    action: 10

predictor:
  size: small  # used in output_model_name only
  depth: 6
  heads: 16
  mlp_dim: 2048
  dim_head: 64
  dropout: 0.1
  emb_dropout: 0.0

# --- Optimizer ---
optimizer:
  type: AdamW
  lr: 5e-4
  weight_decay: 0.0

# --- Trainer ---
trainer:
  max_epochs: 10
  strategy: ddp
  devices: auto
  accelerator: gpu
  precision: 16-mixed
  gradient_clip_val: 1.0

# --- Logging ---
wandb:
  enable: false
  project: swm
  entity: stable-worldmodel

dump_object: true
